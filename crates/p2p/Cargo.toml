[package]
name = "sd-p2p"
version = "0.1.0"
description = "Rust Peer to Peer Networking Library"
authors = ["Oscar Beaumont <oscar@otbeaumont.me>"]
license = { workspace = true }
repository = { workspace = true }
edition = { workspace = true }

[features]
default = []
serde = []
specta = []

[dependencies]
tokio = { workspace = true, features = [
	"macros",
	"sync",
	"time",
	"io-util",
	"fs",
] }
libp2p = { version = "0.52.1", features = ["tokio", "serde"] }
libp2p-quic = { version = "0.9.0-alpha", features = ["tokio"] }
libp2p-identity = { version = "0.2.2", features = ["peerid"] }
if-watch = { version = "3.0.1", features = [
	"tokio",
] } # Override the features of if-watch which is used by libp2p-quic
mdns-sd = "0.6.1"
thiserror = "1.0.44"
tracing = "0.1.37"
serde = { version = "1.0.183", features = ["derive"] }
rmp-serde = "1.1.2"
specta = { workspace = true }
flume = "0.10.14"
tokio-util = { version = "0.7.8", features = ["compat"] }
arc-swap = "1.6.0"
ed25519-dalek = { version = "1.0.1", features = ["rand"] }
# We are staying on 0.5.x for now cause of `ed25519-dalek`
rand_core = { version = "0.5.1", feature = ["getrandom"] }
uuid = "1.4.1"
hex = "0.4.3"

[dev-dependencies]
tokio = { workspace = true, features = ["rt-multi-thread"] }
tracing-subscriber = { version = "0.3.17", features = ["env-filter"] }
